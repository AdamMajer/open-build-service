get:
  summary: List all the staged requests of a staging project.
  description: List all the requests that are already associated to a staging project (staged requests).
  # Authentication is not required
  parameters:
    - $ref: '../components/parameters/project_name.yaml'
    - $ref: '../components/parameters/staging_project_name.yaml'
  responses:
    '200':
      description: List of staged requests.
      content:
        application/xml; charset=utf-8:
          schema:
            $ref: '../components/schemas/staging/staged_requests.yaml'
          examples:
            Multiple Requests:
              value:
                request:
                  - id: 1
                    creator: Iggy
                    type: submit
                    state: accepted
                    package: package_a
                    updated_at: '2023-04-24T08:34:39Z'
                  - id: 2
                    creator: Dan
                    type: submit
                    state: review
                    package: package_b
                    superseded_by: 3
                    updated_at: '2022-02-22T02:22:22Z'
    '404':
      description: Not Found
      content:
        application/xml; charset=utf-8:
          schema:
            $ref: '../components/schemas/api_response.yaml'
          examples:
            Project Without Staging Workflow:
              value:
                code: not_found
                summary: "Project project_name doesn't have an associated Staging Workflow"
            Unknown Staging Project:
              value:
                code: not_found
                summary: "Staging Project 'staging_project_name' not found in Staging: 'project_name'"
            Unknown Project:
              value:
                code: not_found
                summary: "Project 'project_name' not found."
  tags:
    - Staging Workflow
